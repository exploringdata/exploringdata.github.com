let colors=['#ffffe0','#f6e3b9','#eac6a0','#deaa8b','#d08e78','#c27167','#b35457','#a43548','#94003a'];let columns=['1990','1991','1992','1993','1994','1995','1996','1997','1998','1999','2000','2001','2002','2003','2004','2005','2006','2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017','2018','2019','2020','2021'];let data_source='http://data.worldbank.org/indicator/VC.IHR.PSRC.P5';let selected_col='2020';let map=d3.choropleth().geofile('/d3-geomap/topojson/world/countries.json').colors(colors).column(selected_col).domain([0,138.773985679506]).legend(true).unitId('iso3').postUpdate(()=>{annotate(map,85,170,`Intentional Homicides by 100,000 People in ${selected_col}`,data_source=data_source)});d3.csv('/csv/intentional-homicides.csv').then(data=>{let selection=d3.select('#map').datum(data);map.draw(selection);animate(map,columns,interval_length=300);colSelect(map,columns)});